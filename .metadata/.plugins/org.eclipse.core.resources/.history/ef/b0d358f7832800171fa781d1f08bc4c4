import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;

import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;

public class Asignaturas extends JPanel implements ActionListener{
	
	private JPanel panelAgregar,
				   panelLista;
	
	private JCheckBox[] cbTareas;
	
	private Tarea[] listaTareas;
	
	private JTextField tfNombreTarea,
					   tfFechaLimite,
					   tfMateria;
	
	private JButton btAgregar;
	
	private int tmpTareras,
				tareasActivas;
	
	public Asignaturas(){
		
		// Inicializa panel
		super(new BorderLayout());
		this.setPreferredSize(new Dimension(1050,600));
		this.setBackground(new Color(255,255,255));
		
		this.panelAgregar = new JPanel();
		this.panelAgregar.setPreferredSize(new Dimension(400,600));
		this.panelAgregar.setBackground(new Color(216,216,216));
		
		this.panelLista = new JPanel();
		this.panelLista.setPreferredSize(new Dimension(650,600));
		
		/* Inicializa los arreglos de checkboxes y tareas
		 * Cada indice del arreglo checkbox corresponde al mismo indice del arreglo tarea */
		this.cbTareas = new JCheckBox[20];
		this.listaTareas = new Tarea[20];
		
		for(int i=0; i<this.listaTareas.length; i++){
			this.cbTareas[i] = new JCheckBox();
			this.listaTareas[i] = new Tarea();
		}
		
		this.tmpTareras = 0;
		this.tareasActivas = 0;
		
		// Inicializa los componentes de panelAgregar
		this.tfNombreTarea = new JTextField("Nombre",20);
		this.tfFechaLimite = new JTextField("Fecha",20);
		this.tfMateria = new JTextField("Materia",20);
		
		this.btAgregar = new JButton("Agregar");
		this.btAgregar.addActionListener(new ActionListener(){
			public void actionPerformed(ActionEvent e){
				for(int i=0; i<Asignaturas.this.listaTareas.length; i++){
					if(Asignaturas.this.listaTareas[i].getNombreTarea() == null){
						Asignaturas.this.listaTareas[i].setNombreTarea(Asignaturas.this.tfNombreTarea.getText());
						Asignaturas.this.tmpTareras = i;
						Asignaturas.this.tareasActivas++;
						break;
					}
				}
				
				Asignaturas.this.imprimeTareas();
				
				if(Asignaturas.this.tareasActivas > 19){
					Asignaturas.this.tfNombreTarea.setEnabled(false);
					Asignaturas.this.tfFechaLimite.setEditable(false);
					Asignaturas.this.tfMateria.setEnabled(false);
					Asignaturas.this.btAgregar.setEnabled(false);
				}
			}
		});
		
		// Agrega componentes a panelAgregar
		this.panelAgregar.add(this.tfNombreTarea);
		this.panelAgregar.add(this.tfFechaLimite);
		this.panelAgregar.add(this.tfMateria);
		this.panelAgregar.add(this.btAgregar);
				
		// Agrega componentes a panelLista
		this.panelLista.add(new JLabel("Tareas Pendientes:"));
		//this.imprimeTareas();
		
		// Agregar componentes a paneles
		this.add(this.panelAgregar, BorderLayout.WEST);
		this.add(this.panelLista, BorderLayout.EAST);
		
	}
	
	public void imprimeTareas(){
		//for(int i=0; i<this.listaTareas.length; i++){
			if(this.listaTareas[this.tmpTareras].getNombreTarea() != null){
				this.panelLista.add(this.cbTareas[this.tmpTareras]);
				this.panelLista.add(new JLabel(this.listaTareas[this.tmpTareras].getNombreTarea()));
			}
		//}
		this.validate();
	}

	@Override
	public void actionPerformed(ActionEvent e) {
		// TODO Auto-generated method stub
		
	}

}
